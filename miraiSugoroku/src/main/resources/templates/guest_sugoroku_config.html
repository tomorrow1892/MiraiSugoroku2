<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" http-equiv="Content-Type">
    <title>すごろく設定</title>
    <link rel="stylesheet" th:href="@{/gameConfig.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/display.css}">

    <!--アイコンの重複がないようにする-->
    <script src="https://code.jquery.com/jquery-3.3.1.js"
        integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous">
        </script>
    <script>
        $(function () {
            var col, el;
            $("input[type=radio]").click(function () {
                el = $(this);
                col = el.data("col");
                $("input[data-col=" + col + "]").prop("checked", false);
                el.prop("checked", true);
            });
        });
    </script>

    <!-- bootstrapを使用する際には下2行を追加 -->
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.2/css/bootstrap.min.css}">
    <script th:src="@{/webjars/bootstrap/5.1.2/js/bootstrap.min.js}" type="text/javascript"></script>
</head>

<body class="body">

    <body class="body">
        <!-- ヘッダー -->
        <div th:replace="header :: header"></div>

        <div class="mt-3 mb-3 d-flex justify-content-center">
            <h1 class="page_title">すごろくせってい</h1>
        </div>
        <div class="discription">
            みんなが作ったマスを使って、すごろくを遊ぶことができます。<br>
            たくさんポイントを集めてゴールを目指そう！<br>
            使うマス、すごろくの長さ、プレイヤーの名前とアイコンをせっていしてください。
        </div>
        <div class="config">
            <form role="form" th:action="@{/game/createSugoroku}" th:object="${GameConfigForm}" method="post">
                <input type="hidden" name="creatorId" th:value="-1">
                <table >
                    <tr>
                        <td><h6>使うマスをえらぶ</h6>
                            <p>ここでえらんだマスを使ってランダムにすごろくを作るよ！</p>
                        </td>
                    </tr>
                    <tr id="7">
                        <td>
                            <div div class="d-flex justify-content-center">
                                <input type="radio" required name="masu" value="none" id="71" checked><label
                                    for="71"></label>
                                    <p>　　　　　</p>
                                <input type="radio" required name="masu" value="event" id="72"><label
                                    for="72"></label>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div div class="d-flex justify-content-center">
                                <!-- <p>　　　　　　　　　　　　　　</p> -->
                                    <label class="sel"  id="722" hidden>
                                <select required th:field="*{eventId}" >
                                    <option required th:each="eid:${eventIdList}" th:value="${eid.eventId}"
                                    th:text="${eid.name}" th:selected="${eid.eventId == selectedValue}">
                                    </option>
                                </select>
                                    </label>
                            </div>
                        </td>
                       
                    </tr>
                    <tr>
                        <td><h6>コースの長さ</h6>
                            <p id="ngs">短め：10マス　4人で3分</p>
                        </td>
                    </tr>
                    <tr id="0">
                        
                        <td>
                            <div class="d-flex justify-content-center">
                                <input type="radio" required th:field="*{length}" value=0 id="00" onclick="Display(this)"><label
                                    for="00"></label>
                                <input type="radio" required th:field="*{length}" value=1 id="11" onclick="Display(this)"><label
                                    for="11"></label>
                                <input type="radio" required th:field="*{length}" value=2 id="22" onclick="Display(this)"><label
                                    for="22"></label>
                            </div>
                        </td>
                    </tr>
                    <tr id="1">
                        <td>プレイヤー1 : 名前</td>
                        <td><input type="text" required th:field="*{p1}" /></td>
                        <td>　アイコン</td>
                        <td><div div class="d-flex justify-content-center">
                            <input type="radio" required th:field="*{i1}" value="dog" id="11p" data-col="1"><label
                                for="11p"></label>
                            <input type="radio" required th:field="*{i1}" value="cat" id="21p" data-col="2"><label
                                for="21p"></label>
                            <input type="radio" required th:field="*{i1}" value="hiyoko" id="31p" data-col="3"><label
                                for="31p"></label><br>
                            <input type="radio" required th:field="*{i1}" value="hamster" id="41p" data-col="4"><label
                                for="41p"></label>
                            <input type="radio" required th:field="*{i1}" value="zo" id="51p" data-col="5"><label
                                for="51p"></label>
                            <input type="radio" required th:field="*{i1}" value="penguin" id="61p" data-col="6"><label
                                for="61p"></label>
                            </div>
                        </td>
                    </tr>
                    <tr id="2">
                        <td>プレイヤー2 : 名前</td>
                        <td><input type="text" required th:field="*{p2}" /></td>
                        <td>　アイコン</td>
                        <td><div div class="d-flex justify-content-center">
                            <input type="radio" required th:field="*{i2}" value="dog" id="12p" data-col="1"><label
                                for="12p"></label>
                            <input type="radio" required th:field="*{i2}" value="cat" id="22p" data-col="2"><label
                                for="22p"></label>
                            <input type="radio" required th:field="*{i2}" value="hiyoko" id="32p" data-col="3"><label
                                for="32p"></label>
                            <input type="radio" required th:field="*{i2}" value="hamster" id="42p" data-col="4"><label
                                for="42p"></label>
                            <input type="radio" required th:field="*{i2}" value="zo" id="52p" data-col="5"><label
                                for="52p"></label>
                            <input type="radio" required th:field="*{i2}" value="penguin" id="62p" data-col="6"><label
                                for="62p"></label>
                            </div>
                        </td>
                    </tr>
                    <tr id="3">
                        <td><label>プレイヤー3 : 名前 </label></td>
                        <td><input type="text" th:field="*{p3}" /></td>
                        <td><label>　アイコン</label></td>
                        <td><div div class="d-flex justify-content-center">
                            <input type="radio" th:field="*{i3}" value="dog" id="13p" data-col="1"><label
                                for="13p"></label>
                            <input type="radio" th:field="*{i3}" value="cat" id="23p" data-col="2"><label
                                for="23p"></label>
                            <input type="radio" th:field="*{i3}" value="hiyoko" id="33p" data-col="3"><label
                                for="33p"></label>
                            <input type="radio" th:field="*{i3}" value="hamster" id="43p" data-col="4"><label
                                for="43p"></label>
                            <input type="radio" th:field="*{i3}" value="zo" id="53p" data-col="5"><label
                                for="53p"></label>
                            <input type="radio" th:field="*{i3}" value="penguin" id="63p" data-col="6"><label
                                for="63p"></label>
                            </div>
                        </td>
                    </tr>
                    <tr id="4">
                        <td><label>プレイヤー4 : 名前 </label></td>
                        <td><input type="text" th:field="*{p4}" /></td>
                        <td><label>　アイコン</label></td>
                        <td><div div class="d-flex justify-content-center">
                        <input type="radio" th:field="*{i4}" value="dog" id="14p" data-col="1"><label
                                for="14p"></label>
                            <input type="radio" th:field="*{i4}" value="cat" id="24p" data-col="2"><label
                                for="24p"></label>
                            <input type="radio" th:field="*{i4}" value="hiyoko" id="34p" data-col="3"><label
                                for="34p"></label>
                            <input type="radio" th:field="*{i4}" value="hamster" id="44p" data-col="4"><label
                                for="44p"></label>
                            <input type="radio" th:field="*{i4}" value="zo" id="54p" data-col="5"><label
                                for="54p"></label>
                            <input type="radio" th:field="*{i4}" value="penguin" id="64p" data-col="6"><label
                                for="64p"></label>
                            </div>
                            </td>
                    </tr>
                    <tr id="5">
                        <td><label>プレイヤー5 : 名前 </label></td>
                        <td><input type="text" th:field="*{p5}" /></td>
                        <td><label>　アイコン</label></td>
                        <td><div div class="d-flex justify-content-center">
                            <input type="radio" th:field="*{i5}" value="dog" id="15p" data-col="1"><label
                                for="15p"></label>
                            <input type="radio" th:field="*{i5}" value="cat" id="25p" data-col="2"><label
                                for="25p"></label>
                            <input type="radio" th:field="*{i5}" value="hiyoko" id="35p" data-col="3"><label
                                for="35p"></label>
                            <input type="radio" th:field="*{i5}" value="hamster" id="45p" data-col="4"><label
                                for="45p"></label>
                            <input type="radio" th:field="*{i5}" value="zo" id="55p" data-col="5"><label
                                for="55p"></label>
                            <input type="radio" th:field="*{i5}" value="penguin" id="65p" data-col="6"><label
                                for="65p"></label>
                            </div>
                        </td>
                    </tr>
                    <tr id="6">
                        <td><label>プレイヤー6 : 名前 </label></td>
                        <td><input type="text" th:field="*{p6}" /></td>
                        <td><label>　アイコン</label></td>
                        <td><div div class="d-flex justify-content-center">
                            <input type="radio" th:field="*{i6}" value="dog" id="16p" data-col="1"><label
                                for="16p"></label>
                            <input type="radio" th:field="*{i6}" value="cat" id="26p" data-col="2"><label
                                for="26p"></label>
                            <input type="radio" th:field="*{i6}" value="hiyoko" id="36p" data-col="3"><label
                                for="36p"></label>
                            <input type="radio" th:field="*{i6}" value="hamster" id="46p" data-col="4"><label
                                for="46p"></label>
                            <input type="radio" th:field="*{i6}" value="zo" id="56p" data-col="5"><label
                                for="56p"></label>
                            <input type="radio" th:field="*{i6}" value="penguin" id="66p" data-col="6"><label
                                for="66p"></label>
                            </div>
                        </td>
                    </tr>
                </table>
                <p>
                    <a id="b3" type="button" class="btn btn--orange btn--radius">プレイヤー3をついか</a>
                    <a id="b4" type="button" class="btn btn--orange btn--radius">プレイヤー4をついか</a>
                    <a id="b5" type="button" class="btn btn--orange btn--radius">プレイヤー5をついか</a>
                    <a id="b6" type="button" class="btn btn--orange btn--radius">プレイヤー6をついか</a>
                    <input type="submit" value="遊ぶ"/>
                </p>
            </form>
        </div>
    </body>

    <script>
        // コースの長さ目安
    text = {
        "0":"短め：10マス　4人で3分",
        "1":"ふつう：20マス　4人で5分",
        "2":"長め：30マス　4人で7分",
    };
    ngs = document.getElementById('ngs');
    function Display(target){
        let value = target.value;
        ngs.innerText = text[value];
    }

    // イベント絞り込み制御
        let event = document.getElementById('722');
        let radio_btns = document.querySelectorAll(`input[type='radio'][name='masu']`);
        for (let target of radio_btns) {
            target.addEventListener(`change`, () => {
                if (target.value == "event") {
                    event.hidden = false;
                } else { event.hidden = true; }

            });
        }
        //プレイヤーの追加に関する部分
        document.getElementById("1").style.display = 'none';
        document.getElementById("2").style.display = 'none';
        document.getElementById("3").style.display = 'none';
        document.getElementById("4").style.display = 'none';
        document.getElementById("5").style.display = 'none';
        document.getElementById("6").style.display = 'none';
        document.getElementById("b4").style.display = 'none';
        document.getElementById("b5").style.display = 'none';
        document.getElementById("b6").style.display = 'none';

        document.getElementById("1").style.display = 'inline';
        document.getElementById("2").style.display = 'inline';

        var b3 = document.getElementById('b3');
        var b4 = document.getElementById('b4');
        var b5 = document.getElementById('b5');
        var b6 = document.getElementById('b6');

        b3.addEventListener('click', function () {
            document.getElementById("b3").style.display = 'none';
            document.getElementById("3").style.display = 'inline';
            document.getElementById("b4").style.display = 'inline';
        }, false);


        b4.addEventListener('click', function () {
            document.getElementById("b4").style.display = 'none';
            document.getElementById("4").style.display = 'inline';
            document.getElementById("b5").style.display = 'inline';
        }, false);

        b5.addEventListener('click', function () {
            document.getElementById("b5").style.display = 'none';
            document.getElementById("5").style.display = 'inline';
            document.getElementById("b6").style.display = 'inline';
        }, false);

        b6.addEventListener('click', function () {
            document.getElementById("b6").style.display = 'none';
            document.getElementById("6").style.display = 'inline';

        }, false);
    </script>

</html>